{"name":"Custom-leaflet","tagline":"Sample of my customized leaflet map with Cartodb layer","body":"<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <title>\r\n            TESTING | New \"Multilayer\" Map with leaflet Layer selector \r\n        </title>\r\n \r\n        <meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\" />\r\n        <meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\" />\r\n \r\n        <link rel=\"shortcut icon\" href=\"http://cartodb.com/assets/favicon.ico\" />\r\n \r\n       <!-- <link rel=\"stylesheet\" href=\"//cdn.leafletjs.com/leaflet-0.7/leaflet.css\"/> -->\r\n \r\n        <link rel=\"stylesheet\" href=\"../src/leaflet-panel-layers.css\" />    <!-- new -->\r\n\r\n        <link rel=\"stylesheet\" href=\"http://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.css\" type=\"text/css\" /> \r\n \r\n\r\n\r\n  <!--  <script src=\"//cdn.leafletjs.com/leaflet-0.7/leaflet.js\"></script> -->\r\n    <script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js\"></script>\r\n    <script src=\"../src/leaflet-panel-layers.js\"></script>  <!-- new -->\r\n\r\n\r\n\r\n\r\n\r\n        <style type=\"text/css\">\r\n            html, body, #map {\r\n                height: 100%;\r\n                padding: 0;\r\n                margin: 0;\r\n            }\r\n\r\n/* leaflet style overrides */\r\n\r\n\r\n    .leaflet-right .leaflet-control {\r\n      float: right;\r\n      }\r\n    .leaflet-top .leaflet-control {\r\n      margin-top: 10px;\r\n      }\r\n    .leaflet-bottom .leaflet-control {\r\n      margin-bottom: 10px;\r\n      }\r\n    .leaflet-left .leaflet-control {\r\n      margin-left: 10px;\r\n      }\r\n    .leaflet-right .leaflet-control {\r\n      margin-right: 10px;\r\n      }\r\n\r\n.leaflet-control-layers-expanded {\r\n      background: none repeat scroll 0 0 rgba(255, 255, 255, 0.9);\r\n      border-radius: 5px;\r\n      box-shadow: 0 0 15px rgba(0, 0, 0, 0.9);\r\n      font: 12px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n      padding: 6px 16px 6px 5px;   /*top, right, bottom, left */\r\n      height: 120px;\r\n      width: 150px;\r\n      overflow: auto;    /* allows scrolling in selector */\r\n    }\r\n\r\n.leaflet-control-layers-expanded .leaflet-control-layers-expanded-list {\r\n    display: block;\r\n    position: relative;\r\n}\r\n\r\n .my-layer-item-red {      /* red layer item */\r\n       font: 12px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n       color: #800000;\r\n}\r\n\r\n .my-layer-item-blue {      /* blue layer item */\r\n       font: 12px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n       color: #0000FF;\r\n}\r\n\r\n .my-layer-item-italic {      /* italic */\r\n       font: 12px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n       font-style: italic;\r\n       color: #808080;\r\n}\r\n\r\n.layer-title {      /* testing */\r\n       font: 13px/2 \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n       color: #000000;\r\n}\r\n\r\n\r\n</style>\r\n    </head>\r\n\r\n    <body>\r\n        <div id=\"map\"></div>\r\n \r\n        <!-- include cartodb.js library -->\r\n        <script src=\"http://libs.cartocdn.com/cartodb.js/v3/3.13/cartodb.js\" type=\"text/javascript\"></script> \r\n \r\n        <!--[if lte IE 8]>\r\n        <link rel=\"stylesheet\" href=\"http://libs.cartocdn.com/cartodb.js/v2/themes/css/cartodb.ie.css\" />\r\n        <![endif]-->\r\n \r\n \r\n\r\n        <script type=\"text/javascript\">\r\n            window.onload = function () {\r\n\r\n                // Instantiate new map object, place it in 'map' element\r\n                var map_object = new L.Map('map', {\r\n                    center: [40.7033127,-73.979681], // New York, NY\r\n                    zoom: 11,\r\n                    maxZoom: 16,\r\n                    minZoom: 10,\r\n                    scrollWheelZoom: false   // to keep from zooming  accidentally\r\n\r\n                });\r\n\r\n                L.tileLayer('http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {\r\n                    attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                }).addTo(map_object);\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Leaflet boundary overlays using createLayer   GROUP a *****************\r\n                var layer1;\r\n                var layer2;\r\n                var layer3;\r\n                var layer4;\r\n                var layer5;\r\n                var layer6;\r\n                var layer7;\r\n                var layer8;\r\n                var layer9;\r\n                var layer10;\r\n\r\n              cartodb.createLayer(map_object, {\r\n                    user_name: 'andrewmartini',\r\n                    type: 'cartodb',\r\n                    sublayers: [{\r\n                      sql: \"SELECT * FROM neighborhoods\",\r\n                      cartocss: \"#neighborhoods{ polygon-fill: #000000; polygon-opacity: 0; line-color: #000000; line-width: 2; line-opacity: 1;}\",\r\n                      interactivity: \"cartodb_id\" }]\r\n                    })\r\n                  .done(function(layer){\r\n                  layer1 = layer;\r\n\r\n                  cartodb.createLayer(map_object, {\r\n                    user_name: 'andrewmartini',\r\n                    type: 'cartodb',\r\n                    sublayers: [{\r\n                      sql: \"SELECT * FROM neighborhoods\",\r\n                      cartocss: \"#neighborhoods::labels [zoom >=11]{ polygon-fill: #fff; polygon-opacity: 0; line-width: 0; line-opacity: 0;  text-name: [ntaname3];  text-face-name: 'Lato Bold';  text-size: 9;  text-fill: #333333;  text-opacity: 0.8;  text-halo-fill: #FFF;  text-halo-radius: 0.7;  text-transform: uppercase;  text-wrap-width: 50;  text-wrap-before: true; text-character-spacing: 1.1;  text-allow-overlap:false;  text-placement-type: simple;  text-placements: 'W,E,N,12';  text-label-position-tolerance:5;  text-min-distance:10; }\",\r\n                      interactivity: \"cartodb_id\" }]\r\n                    })\r\n                      .done(function(layer) {\r\n                        layer2 = layer; \r\n\r\n                  cartodb.createLayer(map_object, {\r\n                    user_name: 'andrewmartini',\r\n                    type: 'cartodb',\r\n                    sublayers: [{\r\n                      sql: \"SELECT * FROM nycc\",\r\n                      cartocss: \"#nycc{ polygon-fill: #000000; polygon-opacity: 0; line-color: #000000; line-width: 3; line-opacity: 1; }\",\r\n                      interactivity: \"cartodb_id\"}]\r\n                  })\r\n                  .done(function(layer) {\r\n                    layer3 = layer;  \r\n\r\n                    cartodb.createLayer(map_object, 'https://andrewmartini.cartodb.com/api/v2/viz/3f321284-29b0-11e5-a0f8-0e018d66dc29/viz.json')\r\n                    .done(function(layer) {\r\n                      layer4 = layer;\r\n\r\n                      cartodb.createLayer(map_object, 'https://andrewmartini.cartodb.com/api/v2/viz/394257cc-2a5e-11e5-9e3f-0e853d047bba/viz.json')\r\n                      .done(function(layer) {\r\n                        layer5 = layer;\r\n\r\n                        cartodb.createLayer(map_object, 'https://andrewmartini.cartodb.com/api/v2/viz/8aa5a57e-2a5e-11e5-9807-0e9d821ea90d/viz.json')\r\n                        .done(function(layer) {\r\n                          layer6 = layer;\r\n\r\n                          cartodb.createLayer(map_object, 'https://andrewmartini.cartodb.com/api/v2/viz/d0fb1b72-2a5d-11e5-a731-0e4fddd5de28/viz.json')\r\n                          .done(function(layer) {\r\n                          layer7 = layer;\r\n\r\n                            cartodb.createLayer(map_object, 'https://andrewmartini.cartodb.com/api/v2/viz/8e9dcb04-9821-11e4-a998-0e9d821ea90d/viz.json')\r\n                            .done(function(layer) {\r\n                            layer8 = layer;\r\n\r\n                              cartodb.createLayer(map_object, 'https://andrewmartini.cartodb.com/api/v2/viz/0546aec0-2a7f-11e5-9807-0e9d821ea90d/viz.json')\r\n                              .done(function(layer) {\r\n                              layer9 = layer;\r\n\r\n                              cartodb.createLayer(map_object, {\r\n                                user_name: 'andrewmartini',\r\n                                type: 'cartodb',\r\n                                sublayers: [{\r\n                                  sql: \"SELECT * FROM nybb\",\r\n                                  cartocss: \"#layer { polygon-fill: #FFFFFF;  polygon-opacity: 0;  line-color: #000000;  line-width: 3;  line-opacity: 1; }\",\r\n                                  interactivity: \"cartodb_id\"}]\r\n                              })\r\n                              .done(function(layer) {\r\n                              layer10 = layer;\r\n                            \r\n\r\n\r\n\r\n                    var boundaries = {\r\n                      \"Neighborhoods\": layer1,\r\n                      \"<span class='my-layer-item-italic'>Neighborhood Labels</span>\":layer2, \r\n                      \"Boroughs\": layer10,\r\n                      \"City Council\": layer3,\r\n                      \"Community Districts\": layer4,\r\n                      \"NY State Senate\": layer5,\r\n                      \"NY State Assembly\": layer6,\r\n                      \"<span class='my-layer-item-blue'>US Congressional</span>\": layer7,\r\n                      \"US Census Tracts\": layer8,\r\n                      \"DOE School Zones\": layer9\r\n                    };\r\n\r\n                  \r\n\r\n                  L.control.layers(null, boundaries, {collapsed: false, position:'topright', autoZIndex: false}).addTo(map_object);\r\n                  //.setZIndex(600);\r\n         \r\n\r\n\r\n                              });  //10\r\n                            });  //9\r\n                          });  //8\r\n                        });  //7\r\n                      });  //6\r\n                    });  //5\r\n                  });  //4\r\n                });  //3\r\n              });  //2\r\n            });  //1 \r\n\r\n// Leaflet boundary overlays using createLayer GROUP B\r\n                var layer1b;\r\n                var layer2b;\r\n                var layer3b;\r\n                var layer4b;\r\n                var layer5b;\r\n                var layer6b;\r\n                var layer7b;\r\n                var layer8b;\r\n                var layer9b;\r\n\r\n\r\n              cartodb.createLayer(map_object, {   //foreign born\r\n                    user_name: 'andrewmartini',\r\n                    type: 'cartodb',\r\n                    sublayers: [{\r\n                      sql: \"SELECT * FROM tracttemp\",\r\n                      cartocss: \"#tracttemp  {  polygon-fill: #FFFFB2;  polygon-opacity: 0.8;   line-color: #FFF;  line-width: 0.5;  line-opacity: 1; } #tracttemp [ foreignbor <= 8512] {  polygon-fill: #BD0026; } #tracttemp [ foreignbor <= 2314] {   polygon-fill: #F03B20; } #tracttemp [ foreignbor <= 1596] {   polygon-fill: #FD8D3C; } #tracttemp [ foreignbor <= 1076] {   polygon-fill: #FECC5C; } #tracttemp [ foreignbor <= 649] {  polygon-fill: #FFFFB2; }\",\r\n                      interactivity: \"cartodb_id\" }] \r\n                    })\r\n              .done(function(layer) {\r\n              layer1b = layer;\r\n\r\n                cartodb.createLayer(map_object, 'https://ashron2224.cartodb.com/api/v2/viz/90b2c52e-2b11-11e5-bd2c-0e853d047bba/viz.json')\r\n                .done(function(layer) {\r\n                layer2b = layer; \r\n\r\n\r\n                cartodb.createLayer(map_object, {  //black HH\r\n                    user_name: 'andrewmartini',\r\n                    type: 'cartodb',\r\n                    sublayers: [{\r\n                      sql: \"SELECT * FROM tracttemp\",\r\n                      cartocss: \"#tracttemp {  polygon-fill: #FFFFB2;  polygon-opacity: 0.8; line-color: #FFF;  line-width: 0.5; line-opacity: 1; } #tracttemp [ blackhh <= 7344] { polygon-fill: #BD0026; } #tracttemp [ blackhh <= 1061] { polygon-fill: #F03B20;} #tracttemp [ blackhh <= 663] {  polygon-fill: #FD8D3C; } #tracttemp [ blackhh <= 405] {  polygon-fill: #FECC5C; } #tracttemp [ blackhh <= 174] {   polygon-fill: #FFFFB2; }\",\r\n                      interactivity: \"cartodb_id\"}]\r\n                  })\r\n                    .done(function(layer) {\r\n                      layer3b = layer;\r\n\r\n                      cartodb.createLayer(map_object, {   //median income\r\n                        user_name: 'andrewmartini',\r\n                        type: 'cartodb',\r\n                        sublayers: [{\r\n                          sql: \"SELECT * FROM tracttemp\",\r\n                          cartocss: \"#tracttemp { polygon-fill: #1a9850;  polygon-opacity: 0.8;  line-color: #FFF;  line-width: 0.5;  line-opacity: 1; } #tracttemp [ medianhhin <= 243622] {  polygon-fill: #d73027; } #tracttemp [ medianhhin <= 84240] {  polygon-fill: #f79272; } #tracttemp [ medianhhin <= 67394] {   polygon-fill: #fed6b0; } #tracttemp [ medianhhin <= 57176] {  polygon-fill: #fff2cc; } #tracttemp [ medianhhin <= 48159] { polygon-fill: #d2ecb4; } #tracttemp [ medianhhin <= 39538] {   polygon-fill: #8cce8a; } #tracttemp [ medianhhin <= 30106] { polygon-fill: #1a9850; }\",\r\n                        interactivity: \"cartodb_id\"}]\r\n                      })\r\n                      .done(function(layer) {\r\n                        layer4b = layer;\r\n\r\n                      cartodb.createLayer(map_object, {  //empl food serv\r\n                      user_name: 'andrewmartini',\r\n                      type: 'cartodb',\r\n                      sublayers: [{\r\n                        sql: \"SELECT * FROM tracttemp\",\r\n                        cartocss: \"#tracttemp {   polygon-fill: #EDF8FB;   polygon-opacity: 0.8;   line-color: #FFF;   line-width: 0.5;   line-opacity: 1; } #tracttemp [ empfoodser <= 1326] {    polygon-fill: #005824; } #tracttemp [ empfoodser <= 448] {    polygon-fill: #238B45; } #tracttemp [ empfoodser <= 307] {    polygon-fill: #41AE76; } #tracttemp [ empfoodser <= 221] {    polygon-fill: #66C2A4; } #tracttemp [ empfoodser <= 160] {    polygon-fill: #CCECE6; } #tracttemp [ empfoodser <= 107] {    polygon-fill: #D7FAF4; } #tracttemp [ empfoodser <= 54] {    polygon-fill: #EDF8FB; }\",\r\n                      interactivity: \"cartodb_id\"}]\r\n                    })\r\n                      .done(function(layer) {\r\n                        layer5b = layer;\r\n\r\n                        cartodb.createLayer(map_object, {   //high school percent\r\n                      user_name: 'andrewmartini',\r\n                      type: 'cartodb',\r\n                      sublayers: [{\r\n                        sql: \"SELECT highschool, popover24, the_geom, the_geom_webmercator,  ((highschool) *1.0 / popover24*1.0) *100 AS hs_percent FROM tracttemp WHERE popover24 > 50\",\r\n                        cartocss: \"#tracttemp{   polygon-fill: #F1E6F1;   polygon-opacity: 0.8;   line-color: #FFF;   line-width: 0.5;   line-opacity: 1; } #tracttemp [ hs_percent <= 56.8999345977763] {    polygon-fill: #8A4E8A; } #tracttemp [ hs_percent <= 34.3586767266396] {    polygon-fill: #A05AA0; } #tracttemp [ hs_percent <= 29.0862656072645] {    polygon-fill: #B379B3; } #tracttemp [ hs_percent <= 24.5728234336859] {    polygon-fill: #D8BBD8; } #tracttemp [ hs_percent <= 18.3518705763397] {    polygon-fill: #F1E6F1; }\",\r\n                      interactivity: \"cartodb_id\"}]\r\n                    })\r\n                          .done(function(layer) {\r\n                          layer6b = layer;\r\n\r\n                        cartodb.createLayer(map_object, {   //high school\r\n                      user_name: 'andrewmartini',\r\n                      type: 'cartodb',\r\n                      sublayers: [{\r\n                        sql: \"SELECT * FROM tracttemp\",\r\n                        cartocss: \"#tracttemp{   polygon-fill: #FFFFB2;   polygon-opacity: 0.8;   line-color: #FFF;   line-width: 0.5;   line-opacity: 1; } #tracttemp [ highschool <= 6069] {    polygon-fill: #B10026; } #tracttemp [ highschool <= 1200] {    polygon-fill: #E31A1C; } #tracttemp [ highschool <= 932] {    polygon-fill: #FC4E2A; } #tracttemp [ highschool <= 744] {    polygon-fill: #FD8D3C; } #tracttemp [ highschool <= 572] {    polygon-fill: #FEB24C; } #tracttemp [ highschool <= 409] {    polygon-fill: #FED976; } #tracttemp [ highschool <= 239] {    polygon-fill: #FFFFB2; }\",\r\n                      interactivity: \"cartodb_id\"}]\r\n                    })\r\n                          .done(function(layer) {\r\n                          layer7b = layer;  \r\n\r\n                            cartodb.createLayer(map_object, 'https://andrewmartini.cartodb.com/api/v2/viz/8e9dcb04-9821-11e4-a998-0e9d821ea90d/viz.json')\r\n                            .done(function(layer) {\r\n                            layer8b = layer;\r\n\r\n                              cartodb.createLayer(map_object, 'https://andrewmartini.cartodb.com/api/v2/viz/0546aec0-2a7f-11e5-9807-0e9d821ea90d/viz.json')\r\n                              .done(function(layer) {\r\n                              layer9b = layer;\r\n                            \r\n                    var demographics = {\r\n                      \"Number Foreign Born\": layer1b,\r\n                      \"Turkish\":layer2b, \r\n                      \"Black Households\": layer3b,\r\n                      \"Median HH Income\": layer4b,\r\n                      \"Empl. Food Service\": layer5b,\r\n                      \"<span class='my-layer-item-red'>Pct High School</span>\": layer6b,\r\n                      \"Num High School\": layer7b,\r\n                      \"xUS Census Tracts\": layer8b,\r\n                      \"xDOE School Zones\": layer9b\r\n                    };\r\n\r\n                   L.control.layers(null, demographics, {collapsed: false, position:'topright', autoZIndex:false}).addTo(map_object);\r\n                   //.setZIndex(100);\r\n                 //  L.Control.CategorizedLayers(null, demographics, {collapsed: false, position:'topright'}).addTo(map_object);\r\n               \r\n\r\n                            });  //9\r\n                          });  //8\r\n                        });  //7\r\n                      });  //6\r\n                    });  //5\r\n                  });  //4\r\n                });  //3\r\n              });  //2\r\n            });  //1 \r\n\r\n\r\n\r\n\r\n\r\n//******************************************************\r\n// GROUP C USING  the 'un-nested' / addTo()  method \r\n\r\n\r\n var rentreg = cartodb.createLayer(map_object, 'https://ashron24.cartodb.com/api/v2/viz/3c71fd52-2bfe-11e5-9348-0e0c41326911/viz.json'); \r\n          var l_rentreg = new L.LayerGroup();\r\n          rentreg.addTo(l_rentreg);\r\n\r\n var nails = cartodb.createLayer(map_object, 'https://ashron24.cartodb.com/api/v2/viz/9cd21ef2-2bfe-11e5-9adf-0e4fddd5de28/viz.json'); \r\n          var l_nails = new L.LayerGroup();\r\n          nails.addTo(l_nails);\r\n\r\n\r\n    var cbori = cartodb.createLayer(map_object, 'https://andrewmartini.cartodb.com/api/v2/viz/4a36bc10-1444-11e5-84c6-0e853d047bba/viz.json'); \r\n          var l_cbori = new L.LayerGroup();\r\n          cbori.addTo(l_cbori);\r\n\r\n          \r\n    var subways = cartodb.createLayer(map_object, 'https://andrewmartini.cartodb.com/api/v2/viz/77a3e3a4-2aaf-11e5-8077-0e9d821ea90d/viz.json'); \r\n          var l_subways = new L.LayerGroup();\r\n          subways.addTo(l_subways);\r\n\r\n\r\n    var nonengspan = cartodb.createLayer(map_object, {\r\n            user_name: 'andrewmartini',\r\n            type: 'cartodb',\r\n            sublayers: [{\r\n               sql: 'select * from schlang_merge_05_04',\r\n               cartocss: \"#layer {  polygon-opacity: 0.7;  line-color: #FFF;  line-width: 1;  line-opacity: 1;  }   /** language group polygon fill */  #schlang_merge_05_04[_plurnes_gr='Sino-Tibetan: Chinese'] {  polygon-fill: #ff0000;  }  #schlang_merge_05_04[_plurnes_gr='South Asian'] {  polygon-fill: #ffa500;  }  #schlang_merge_05_04[_plurnes_gr='E & SE Asia: other'] {  polygon-fill: #fb9a99;  }  #schlang_merge_05_04[_plurnes_gr='Austronesian: Malayo-Polynesian'] {  polygon-fill: #fb9a99;  } #schlang_merge_05_04[_plurnes_gr='Afro-Asiatic: Semitic'] {  polygon-fill: #49db40;  }  #schlang_merge_05_04[_plurnes_gr='Niger-Congo: Atlantic-Congo'] {  polygon-fill: #136400;  }  #schlang_merge_05_04[_plurnes_gr='Niger-Congo: Mande'] {  polygon-fill: #229A00;  }   #schlang_merge_05_04[_plurnes_gr='French Creoles'] {  polygon-fill: #A53ED5;  }  #schlang_merge_05_04[_plurnes_gr='Indo-European: Balto-Slavic'] {  polygon-fill: #0000a0;  }  #schlang_merge_05_04[_plurnes_gr='Indo-European: Romance'] {  polygon-fill: #5CA2D1;  }  #schlang_merge_05_04[_plurnes_gr='Indo-European: Germanic'] {  polygon-fill: #5CA2D1;  }  #schlang_merge_05_04[_plurnes_gr='Indo-European: Other'] {  polygon-fill: #00ceff;   }  #schlang_merge_05_04[_plurnes_gr='Uralic'] {  polygon-fill: #00ceff;  }   #schlang_merge_05_04 {  polygon-fill: #DDDDDD;  }   /** language labels for plurnes */  #schlang_merge_05_04::labels [zoom >= 12] { text-name: [_plurnes]; text-face-name: 'Lato Bold'; text-size: 10; text-wrap-before: true; text-wrap-width: 20;  text-transform: capitalize; text-label-position-tolerance: 10; text-fill: #000; text-halo-fill: #FFF; text-halo-radius: 1; text-dy: 0; text-allow-overlap: false; text-placement: point; text-placement-type: simple;  }   #schlang_merge_05_04::labels [zoom >= 13]      { text-name: [_plurnes]+' '+[_plurnes_qt]; text-face-name: 'Lato Bold'; text-size: 11;  }   #schlang_merge_05_04::labels [zoom >= 14]  { text-name: [_plurnes]+' '+[_plurnes_qt]; text-face-name: 'Lato Bold'; text-size: 13;  } #schlang_poly_v3_1::labels [_plurnes_qt < 9]{   text-name: [_plurnes_qt];   text-face-name: 'Lato Bold';   text-size: 0;   text-fill: #fff;   text-halo-radius: 0; }\",\r\n               interactivity: 'cartodb_id'}]\r\n          });\r\n         var l_nonengspan = new L.LayerGroup();\r\n         nonengspan.addTo(l_nonengspan);\r\n\r\n    \r\n    var nybb = cartodb.createLayer(map_object, {\r\n            user_name: 'andrewmartini',\r\n            type: 'cartodb',\r\n            sublayers: [{\r\n               sql: 'select * from nybb',\r\n               cartocss: '#layer { polygon-fill: #081b47; polygon-opacity: 0; line-color: #081B47; line-width: 4; line-opacity: 1;}',\r\n               interactivity: 'cartodb_id'}]\r\n          });\r\n         var l_nybb = new L.LayerGroup();\r\n         nybb.addTo(l_nybb);\r\n\r\n    var nycha = cartodb.createLayer(map_object, {\r\n            user_name: 'andrewmartini',\r\n            type: 'cartodb',\r\n            sublayers: [{\r\n               sql: 'SELECT * FROM nycha_developments_july2011',\r\n               cartocss: \"#layer{    polygon-fill: #0700ff;    polygon-opacity: 0.9;    line-color: #FFF;    line-width: 0;    line-opacity: 0;  }    #nycha_developments_july2011::labels [zoom >= 12] [tot_pop11 > 4000] {    text-name: [developmen];    text-face-name: 'Lato Bold';    text-size: 10;    text-label-position-tolerance: 10;    text-fill: #11002F;    text-halo-fill: #FFF;    text-halo-radius: 1;    text-dy: 0;    text-wrap-width: 120;    text-wrap-before: true;    text-character-spacing: 1.5;    text-allow-overlap: false;    text-placement: point;    text-placement-type: simple;    }    #nycha_developments_july2011::labels [zoom >= 13] [tot_pop11 > 1000] {    text-name: [developmen];    text-face-name: 'DejaVu Sans Book';    text-size: 10;    text-label-position-tolerance: 10;    text-fill: #000;    text-halo-fill: #FFF;    text-halo-radius: 1;    text-dy: 0;    text-wrap-width: 150;    text-wrap-before: true;    text-character-spacing: 2;    text-allow-overlap: false;    text-placement: point;    text-placement-type: simple;    }    #nycha_developments_july2011::labels [zoom >= 14] [tot_pop11 > 500] {    text-name: [developmen];    text-face-name: 'DejaVu Sans Book';    text-size: 11;    text-label-position-tolerance: 10;    text-fill: #000;    text-halo-fill: #FFF;    text-halo-radius: 1;    text-dy: 0;    text-wrap-width: 160;    text-wrap-before: true;    text-character-spacing: 2;    text-allow-overlap: false;    text-placement: point;    text-placement-type: simple;    }    #nycha_developments_july2011::labels [zoom >= 15] [tot_pop11 > 100] {    text-name: [developmen];    text-face-name: 'DejaVu Sans Book';    text-size: 12;    text-label-position-tolerance: 10;    text-fill: #000;    text-halo-fill: #FFF;    text-halo-radius: 1;    text-dy: 0;    text-wrap-width: 200;    text-wrap-before: true;    text-character-spacing: 2;    text-allow-overlap: false;    text-placement: point;    text-placement-type: simple;    }    #nycha_developments_july2011::labels [zoom >= 15] [tot_pop11 > 100] {    text-name: [developmen];    text-face-name: 'DejaVu Sans Book';    text-size: 12;    text-label-position-tolerance: 10;    text-fill: #000;    text-halo-fill: #FFF;    text-halo-radius: 1;      }    #nycha_developments_july2011::labels [zoom >= 16] {    text-name: [developmen];    text-face-name: 'DejaVu Sans Book';    text-size: 12;    text-label-position-tolerance: 10;    text-fill: #000;    text-halo-fill: #FFF;    text-halo-radius: 1;    text-dy: 0;    text-wrap-width: 200;    text-wrap-before: true;    text-character-spacing: 2;    text-allow-overlap: false;    text-placement: point;    text-placement-type: simple;    } \",\r\n               interactivity: 'cartodb_id'}]\r\n          });\r\n         var l_nycha = new L.LayerGroup();\r\n         nycha.addTo(l_nycha);\r\n\r\n\r\n    var caugroup = {\r\n        \"cbo & religious orgs\": l_cbori,\r\n        \"Nail Salon // Action\": l_nails,\r\n        \"Borough Bounds\": l_nybb,\r\n        \"NYCHA developments\": l_nycha,\r\n        \"Subway Lines\": l_subways,\r\n        \"nonengspan\": l_nonengspan,\r\n        \"Rent Regulated Target\": l_rentreg\r\n\r\n    };\r\n\r\n     L.control.layers(null, caugroup, {collapsed: false, position:'topright', autoZIndex: false}).addTo(map_object);\r\n     //.setZIndex(600);\r\n   // L.Control.CategorizedLayers(null, overlayLayers, {collapsed: false, position:'topright'}).addTo(map_object);\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n        </script>\r\n    </body>\r\n</html>\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}